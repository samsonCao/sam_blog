
### 单例模式

##### 定义

单例模式：又被称为单体模式，是只允许实例化一次的对象类。
##### 优点

1. 基础类共享了一些属性和方法，在构建的时候不需要重复否建共享的方法，速度更快

2. 扩展性更强，如果有个类具有特殊的一些功能只需要修改这个类的prototype.xxxx 新增某个方法就可以了，不需要修改基础类

##### 使用场景

1. 常用来定义命名空间，比如jQuery的全局对象就是一种命名空间
> 单体模式提供了一种将代码组织为一个逻辑单元的手段，这个逻辑单元中的代码可以通过单一变量进行访问。

2. 早期模块化组织代码用的，把同类功能的代码放在同一个命名空间中，形成模块
> 可以用来划分命名空间，减少全局变量的数量。使用单体模式可以使代码组织的更为一致，使代码容易阅读和维护。

3. 创建小型代码库，这里面可以包含各种工具模块和方法

4. 可以被实例化，且实例化一次。

#### 深入理解单例模式

> 比如我现在页面上需要创建一个div的元素，那么我们肯定需要有一个创建 div的函数，
而现在我只需要这个函数只负责创建div元素，其他的它不想管，也就是想实现单一职责原则，
就好比淘宝的kissy 一样，一开始的时候他们定义kissy只做一件事，并且把这件事做好，
具体的单体模式中的实例化类的事情交给代理函数去处理，这样做的好处是具体的业务逻辑分开了，
代理只管代理的业务逻辑，在这里代理的作用是实例化对象，并且只实例化一次;
创建div代码只管创建div，其他的不管

#### 代码示例

```javascript

/**
 * 比如我点击一个元素需要创建一个div，
 * 我点击第二个元素又会创建一次div，
 * 我们频繁的点击某某元素，他们会频繁的创建div的元素，
 * 虽然当我们点击关闭的时候可以移除弹出代码，
 * 但是呢我们频繁的创建和删除并不好，
 * 特别对于性能会有很大的影响，对DOM频繁的操作会引起重绘等，从而影响性能；
 * 因此这是非常不好的习惯；我们现在可以使用单体模式来实现弹窗效果，我们只实例化一次就可以了；如下代码：
 */

let createModal = (function(){
    let div;
    return function(){
        if(!div) {
            div = document.createElement("div");
            div.innerHTML = "我是弹窗内容";
            div.style.display = 'none';
            document.body.appendChild(div);
        }
        return div;
    }
})();
document.getElementById("Id").onclick = function(){
    // 点击后先创建一个div元素
    let win = createModal();
    win.style.display = "block";
};

```





